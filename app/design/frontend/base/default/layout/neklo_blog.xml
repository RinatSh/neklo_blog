<?xml version="1.0"?>

<layout version="0.1.0">
    <default>
        <reference name="footer_links">
            <action method="addLink" translate="label title" module="neklo_blog" ifconfig="blog/view/enabled">
                <label>News</label>
                <url>news</url>
                <title>News</title>
                <prepare>true</prepare>
            </action>
        </reference>
    </default>

    <neklo_blog_index_index translate="label">
        <label>News Page</label>
        <reference name="root">
            <action method="setTemplate">
                <template>page/2columns-right.phtml</template>
            </action>
            <action method="setHeaderTitle" translate="title" module="neklo_blog">
                <title>Site News</title>
            </action>
        </reference>
        <reference name="content">
            <block type="neklo_blog/list" name="news.list" template="neklo/blog/list.phtml">
                <block type="page/html_pager" name="news.list.pager" as="news_list_pager"/>
            </block>
        </reference>
    </neklo_blog_index_index>

    <neklo_blog_index_view translate="label">
        <label>News Item Page</label>
        <reference name="root">
            <action method="setTemplate">
                <template>page/2columns-right.phtml</template>
            </action>
        </reference>
        <reference name="content">
            <block type="neklo_blog/item" name="news.item" template="neklo/blog/item.phtml" />
        </reference>
    </neklo_blog_index_view>

    <neklo_blog_index_category translate="label">
        <label>News Category Page</label>
        <reference name="root">
            <action method="setTemplate">
                <template>page/2columns-right.phtml</template>
            </action>
        </reference>
        <reference name="content">
            <block type="neklo_blog/list" name="news.category" template="neklo/blog/list.phtml">
                <block type="page/html_pager" name="news.list.pager"
                       as="news_list_pager"></block>
            </block>
        </reference>
    </neklo_blog_index_category>

    <customer_account>
        <reference name="customer_account_navigation">
            <action method="addLink">
                <name>neklo_blog_customer_tab</name>
                <path>neklo_blog/customer</path>
                <label>My Liked News</label>
            </action>
        </reference>
    </customer_account>

    <neklo_blog_customer_index translate="label">
        <label>My Liked News</label>
        <update handle="customer_account" />
        <reference name="my.account.wrapper">
            <block type="neklo_blog/customer" name="customer.news.like" template="neklo/blog/customer.phtml" />
            <block type="customer/account_dashboard" name="customer.account.link.back"
                   template="customer/account/link/back.phtml"/>
        </reference>
    </neklo_blog_customer_index>

</layout>